{"ast":null,"code":"var _jsxFileName = \"/Users/gustavnielsen/Documents/Kode.nosync/tiktokgame/src/App.js\";\nimport './App.css';\nimport Matter from 'matter-js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  const {\n    PI\n  } = Math;\n  const TAU = PI * 2;\n  const canvas = document.createElement(\"canvas\");\n  document.body.appendChild(canvas);\n  const ctx = canvas.getContext(\"2d\");\n  canvas.height = 180;\n  canvas.width = 400;\n  function addPlayer() {\n    const ship = {\n      body: Matter.Bodies.rectangle(canvas.width / 2, canvas.height / 2, 20, 20, {\n        frictionAir: 0.03,\n        density: 0.3,\n        friction: 0.8\n      }),\n      size: 20,\n      destX: canvas.width / 2,\n      destY: canvas.height / 2,\n      color: \"#eaf\",\n      setDestination(x, y) {\n        this.destX = x;\n        this.destY = y;\n      },\n      draw(ctx) {\n        ctx.save();\n        ctx.translate(this.body.position.x, this.body.position.y);\n        ctx.rotate(this.body.angle);\n        ctx.lineWidth = 3;\n        ctx.beginPath();\n        ctx.moveTo(0, 0);\n        ctx.lineTo(this.size / 1.2, 0);\n        ctx.stroke();\n        ctx.fillStyle = this.color;\n        ctx.fillRect(this.size / -2, this.size / -2, this.size, this.size);\n        ctx.strokeRect(this.size / -2, this.size / -2, this.size, this.size);\n        ctx.restore();\n      }\n    };\n    console.log(\"Player added\");\n  }\n  const engine = Matter.Engine.create();\n  engine.gravity.y = 0; // enable top-down\n\n  Matter.Composite.add(engine.world, [ship.body]);\n  canvas.addEventListener(\"click\", e => {\n    ship.setDestination(e.offsetX, e.offsetY);\n  });\n  (function update() {\n    requestAnimationFrame(update);\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    const {\n      x,\n      y\n    } = ship.body.position;\n    const dist = Math.sqrt((ship.destX - x) ** 2 + (ship.destY - y) ** 2);\n    if (dist > 10) {\n      const dx = ship.destX - ship.body.position.x;\n      const dy = ship.destY - ship.body.position.y;\n      let theta = Math.atan2(dy, dx);\n      const a = ship.body.angle > 0 ? (ship.body.angle + TAU) % TAU - TAU : -((-ship.body.angle + TAU) % TAU - TAU);\n      let diff = a - theta;\n      diff = diff > PI ? diff - TAU : diff;\n      diff = diff < -PI ? diff + TAU : diff;\n      const f = dist < 70 ? Math.min(0.02, dist / 10000) : 0.03;\n      Matter.Body.applyForce(ship.body, {\n        x,\n        y\n      }, {\n        x: Math.cos(theta) * f,\n        y: Math.sin(theta) * f\n      });\n      if (dist > 15) {\n        Matter.Body.setAngularVelocity(ship.body, diff / -8);\n      } else {\n        Matter.Body.setAngularVelocity(ship.body, 0);\n      }\n    }\n    ship.draw(ctx); // Draws figure\n    Matter.Engine.update(engine);\n  })();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: addPlayer,\n      children: \"Ny spiller\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      children: \"Boost\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n}\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Matter","jsxDEV","_jsxDEV","App","PI","Math","TAU","canvas","document","createElement","body","appendChild","ctx","getContext","height","width","addPlayer","ship","Bodies","rectangle","frictionAir","density","friction","size","destX","destY","color","setDestination","x","y","draw","save","translate","position","rotate","angle","lineWidth","beginPath","moveTo","lineTo","stroke","fillStyle","fillRect","strokeRect","restore","console","log","engine","Engine","create","gravity","Composite","add","world","addEventListener","e","offsetX","offsetY","update","requestAnimationFrame","clearRect","dist","sqrt","dx","dy","theta","atan2","a","diff","f","min","Body","applyForce","cos","sin","setAngularVelocity","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/gustavnielsen/Documents/Kode.nosync/tiktokgame/src/App.js"],"sourcesContent":["import './App.css';\nimport Matter from 'matter-js';\n\nfunction App() {\n  const { PI } = Math;\n  const TAU = PI * 2;\n  const canvas = document.createElement(\"canvas\");\n  document.body.appendChild(canvas);\n  const ctx = canvas.getContext(\"2d\");\n  canvas.height = 180;\n  canvas.width = 400;\n\n  function addPlayer() {\n    const ship = {\n      body: Matter.Bodies.rectangle(canvas.width / 2, canvas.height / 2, 20, 20,\n        {\n          frictionAir: 0.03,\n          density: 0.3,\n          friction: 0.8,\n        }\n      ),\n      size: 20,\n      destX: canvas.width / 2,\n      destY: canvas.height / 2,\n      color: \"#eaf\",\n      setDestination(x, y) {\n        this.destX = x;\n        this.destY = y;\n      },\n      draw(ctx) {\n        ctx.save();\n        ctx.translate(this.body.position.x, this.body.position.y);\n        ctx.rotate(this.body.angle);\n        ctx.lineWidth = 3;\n        ctx.beginPath();\n        ctx.moveTo(0, 0);\n        ctx.lineTo(this.size / 1.2, 0);\n        ctx.stroke();\n        ctx.fillStyle = this.color;\n        ctx.fillRect(\n          this.size / -2,\n          this.size / -2,\n          this.size,\n          this.size\n        );\n        ctx.strokeRect(\n          this.size / -2,\n          this.size / -2,\n          this.size,\n          this.size\n        );\n        ctx.restore();\n      },\n    };\n    console.log(\"Player added\")\n  }\n\n  const engine = Matter.Engine.create();\n  engine.gravity.y = 0; // enable top-down\n\n  Matter.Composite.add(engine.world, [ship.body]);\n\n  canvas.addEventListener(\"click\", (e) => {\n    ship.setDestination(e.offsetX, e.offsetY);\n  });\n\n  (function update() {\n    requestAnimationFrame(update);\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    const { x, y } = ship.body.position;\n    const dist = Math.sqrt(\n      (ship.destX - x) ** 2 + (ship.destY - y) ** 2\n    );\n\n    if (dist > 10) {\n      const dx = ship.destX - ship.body.position.x;\n      const dy = ship.destY - ship.body.position.y;\n\n      let theta = Math.atan2(dy, dx);\n      const a =\n        ship.body.angle > 0\n          ? ((ship.body.angle + TAU) % TAU) - TAU\n          : -(((-ship.body.angle + TAU) % TAU) - TAU);\n      let diff = a - theta;\n      diff = diff > PI ? diff - TAU : diff;\n      diff = diff < -PI ? diff + TAU : diff;\n      const f = dist < 70 ? Math.min(0.02, dist / 10000) : 0.03;\n      Matter.Body.applyForce(\n        ship.body,\n        { x, y },\n        {\n          x: Math.cos(theta) * f,\n          y: Math.sin(theta) * f,\n        }\n      );\n\n      if (dist > 15) {\n        Matter.Body.setAngularVelocity(ship.body, diff / -8);\n      } else {\n        Matter.Body.setAngularVelocity(ship.body, 0);\n      }\n    }\n\n    ship.draw(ctx); // Draws figure\n    Matter.Engine.update(engine);\n  })();\n  return (\n    <div className=\"App\">\n      <button onClick={addPlayer}>Ny spiller</button>\n      <button>Boost</button>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}