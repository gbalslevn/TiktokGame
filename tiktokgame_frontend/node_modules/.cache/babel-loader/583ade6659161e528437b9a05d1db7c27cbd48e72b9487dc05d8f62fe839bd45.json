{"ast":null,"code":"var _jsxFileName = \"/Users/gustavnielsen/Documents/Kode.nosync/tiktokgame/tiktokgame_frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport './App.css';\nimport Matter from 'matter-js';\nimport bombImage from './assets/2dbomb.png';\n//import testProfilePic from './assets/profilepicture.jpg'\nimport explosion from './assets/explosion.wav';\nimport ding from './assets/ding.mp3';\nimport footstep from './assets/footstep.wav';\nimport popup from './assets/popup.wav';\nimport { useEffect, useState, useCallback } from 'react';\nimport ConfettiExplosion from 'react-confetti-explosion';\nimport Leaderboard from './components/Leaderboard';\nimport Timer from './components/Timer';\nimport TikTok from './components/TikTok';\nimport Videoplayer from './components/Videoplayer';\n// spil minecraft soundtrack\n// elevenlabs til lyd. D-Id til video. Måske bruge heygen. \n// Når folk joiner brug https://responsivevoice.org/\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  //const video = require('./assets/Game_starting_soon.mp4')\n  const [showWinner, setShowWinner] = useState(false);\n  const [latestWinner, setLatestWinner] = useState('G');\n  const [winners, setWinners] = useState([]);\n  const [allPlayers, setAllPlayers] = useState([]);\n  const [gameHasLoaded, setGameHasLoaded] = useState(false);\n  const [gameHasStarted, setGameHaStarted] = useState(false);\n  const [confetti, setConfetti] = useState(false);\n  const [world, setWorld] = useState();\n  const [latestComment, setLatestComment] = useState(null);\n  const [latestLike, setLatestLike] = useState(null);\n  const [latestGift, setLatestGift] = useState(null);\n  const canvasWidth = 800;\n  const canvasHeight = 400;\n  function createGame() {\n    const engine = Matter.Engine.create();\n    engine.gravity.y = 0;\n    const world = engine.world;\n    setWorld(world);\n    const render = Matter.Render.create({\n      element: document.body,\n      engine: engine,\n      options: {\n        width: canvasWidth,\n        height: canvasHeight,\n        showAngleIndicator: true,\n        showCollisions: true,\n        hasBounds: true,\n        wireframes: false,\n        background: '#fff'\n      }\n    });\n    Matter.Render.run(render);\n\n    // create runner\n    const runner = Matter.Runner.create();\n    Matter.Runner.run(runner, engine);\n    const wallThichness = 1;\n    Matter.Composite.add(world, [\n    // walls - Created with (xpos, ypos, width, height)\n    Matter.Bodies.rectangle(canvasWidth / 2, 0, canvasWidth, wallThichness, {\n      isStatic: true\n    }),\n    // Top\n    Matter.Bodies.rectangle(canvasWidth / 2, canvasHeight, canvasWidth, wallThichness, {\n      isStatic: true\n    }),\n    // Bottom\n    Matter.Bodies.rectangle(0, canvasHeight / 2, wallThichness, canvasHeight, {\n      isStatic: true\n    }),\n    // Left\n    Matter.Bodies.rectangle(0, canvasHeight / 2, 50, canvasHeight, {\n      isStatic: true,\n      render: {\n        fillStyle: \"grey\"\n      },\n      collisionFilter: {\n        category: 0x0002\n      }\n    }),\n    // Start object. Up to 32 different collision categories. 0x0001 is default\n    Matter.Bodies.rectangle(canvasWidth, canvasHeight / 2, 50, canvasHeight, {\n      isStatic: true,\n      render: {\n        fillStyle: \"green\"\n      }\n    }) // Right - Finish line. \n    ]);\n    // checking collision with green finish line\n    Matter.Events.on(engine, 'collisionStart', function (event) {\n      const pairs = event.pairs;\n      var pair = pairs[0];\n      if (pair.bodyA.render.fillStyle === 'green') {\n        winHandler(pair.bodyB.label);\n        resetWorld(world, engine, render, runner);\n      }\n    });\n\n    //const startPlayer = createPlayer(\"Startplayer\")\n    //Matter.Composite.add(world, [startPlayer])\n    setGameHasLoaded(true);\n  }\n  function createPlayer(username, profilePic) {\n    const player = Matter.Bodies.rectangle(12, canvasHeight / 2, 20, 20, {\n      frictionAir: 0.03,\n      density: 0.3,\n      friction: 0.8,\n      label: username,\n      collisionFilter: {\n        mask: 0x0001\n      },\n      // Should be able to hit each other\n      render: {\n        sprite: {\n          texture: profilePic,\n          xScale: 0.25,\n          yScale: 0.25\n        }\n      } // uncomment this for profile pic\n    });\n    return player;\n  }\n  function spawnPlayer(username, profilePic) {\n    const player = createPlayer(username, profilePic);\n    playSound(popup, 0.25);\n    Matter.Composite.add(world, [player]);\n    setAllPlayers([...allPlayers, username]);\n  }\n  function move(username, likes = 1) {\n    const allBodies = Matter.Composite.allBodies(world);\n    const foundPlayer = allBodies.find(player => player.label === username);\n    const force = 0.5 * Math.log10(likes + 9); // +10 so if 1 like is sent it it not log10(1) = 0\n    if (foundPlayer) {\n      console.log(\"Object found with name:\", username);\n      Matter.Body.applyForce(foundPlayer, foundPlayer.position, {\n        x: force,\n        y: 0\n      });\n      playSound(footstep);\n    } else {\n      //console.log(\"Object not found with name:\", username);\n    }\n  }\n  function testMove() {\n    const allBodies = Matter.Composite.allBodies(world);\n    const randomIndex = Math.floor(Math.random() * (allBodies.length - 4)) + 4;\n    const randomPlayer = allBodies[randomIndex];\n    playSound(footstep);\n    Matter.Body.applyForce(randomPlayer, randomPlayer.position, {\n      x: 2,\n      y: 0\n    });\n  }\n  async function spawnBomb() {\n    const randomX = Math.floor(Math.random() * (canvasWidth - 100 + 1)) + 100;\n    const randomY = Math.floor(Math.random() * (canvasHeight - 0 + 1)) + 0;\n    const bomb = Matter.Bodies.rectangle(randomX, randomY, 10, 10, {\n      isStatic: true,\n      render: {\n        sprite: {\n          texture: bombImage,\n          xScale: 0.1,\n          yScale: 0.1\n        }\n      }\n    });\n    Matter.Composite.add(world, [bomb]);\n    playSound(ding);\n    await new Promise(resolve => setTimeout(resolve, 1500));\n    playSound(explosion, 0.25);\n    Matter.Composite.remove(world, [bomb]);\n    explode(bomb.position);\n  }\n\n  // Creates consequense of blast radius\n  function explode(bombPosition) {\n    const allBodies = Matter.Composite.allBodies(world);\n    allBodies.forEach(player => {\n      if (player.label === 'Rectangle Body') {\n        // should only affect players\n        return;\n      }\n      const xDistanceToBomb = bombPosition.x - player.position.x;\n      const yDistanceToBomb = bombPosition.y - player.position.y;\n      //const bigDistance = 120\n      //const medDistance = 80\n      //const lowDistance = 20\n      // I am calculating blast radius in squares. Maybe it should be using circles. Utilizing pi.\n      // later: check if they are safe from blast. If they have bought safety. Could also add effect on y-axis\n\n      // Checks to determine to blast\n      if (Math.abs(xDistanceToBomb) < 20 && Math.abs(yDistanceToBomb) < 20) {\n        // player dies. \n        Matter.Composite.remove(world, [player]);\n      }\n      if (xDistanceToBomb < 0 && xDistanceToBomb > -120) {\n        // The player has passed the bomb\n        if (yDistanceToBomb < 0 && yDistanceToBomb > -120) {\n          // The player is above the bomb\n          Matter.Body.applyForce(player, player.position, {\n            x: 1,\n            y: 1\n          });\n        } else {\n          // The player is below the bomb\n          Matter.Body.applyForce(player, player.position, {\n            x: 1,\n            y: -1\n          });\n        }\n      } else if (xDistanceToBomb > 0 && xDistanceToBomb <= 80) {\n        // Player is to the left of the bomb. gets a blast\n        if (yDistanceToBomb < 0 && yDistanceToBomb > -120) {\n          // The same check as when player bassed the bomb. Could maybe be refactored so there is less code dublication\n          Matter.Body.applyForce(player, player.position, {\n            x: -2,\n            y: 2\n          });\n        } else {\n          Matter.Body.applyForce(player, player.position, {\n            x: -2,\n            y: -2\n          });\n        }\n      } else if (xDistanceToBomb > 80 && xDistanceToBomb <= 120) {\n        // gets minor blast\n        if (yDistanceToBomb < 0 && yDistanceToBomb > -120) {\n          Matter.Body.applyForce(player, player.position, {\n            x: -1,\n            y: 1\n          });\n        } else {\n          Matter.Body.applyForce(player, player.position, {\n            x: -1,\n            y: -1\n          });\n        }\n      }\n    });\n  }\n  function winHandler(winnerUsername) {\n    setLatestWinner(winnerUsername);\n    setShowWinner(true);\n    setConfetti(true);\n    setGameHaStarted(false);\n    // Increment points or add the person as a winner\n    const newArray = winners;\n    const playerIndex = winners.findIndex(winner => winner.label === winnerUsername);\n    if (playerIndex !== -1) {\n      newArray[playerIndex].points++;\n    } else {\n      newArray.push({\n        label: winnerUsername,\n        points: 1\n      });\n    }\n    setWinners(newArray);\n    announceWinner();\n  }\n  function resetWorld(world, engine, render, runner) {\n    setGameHasLoaded(false);\n    setAllPlayers([]);\n    Matter.World.clear(world);\n    Matter.Engine.clear(engine);\n    Matter.Render.stop(render);\n    Matter.Runner.stop(runner);\n    Matter.Events.off(engine, 'collisionStart');\n    render.canvas.remove();\n    render.canvas = null;\n    render.context = null;\n    createGame();\n  }\n  function handleComments(comment) {\n    if (gameHasLoaded) {\n      const username = comment.uniqueId;\n      const allBodies = Matter.Composite.allBodies(world);\n      const playerExists = allBodies.find(player => player.label === username);\n      if (!playerExists) {\n        setLatestComment(comment); // når latestComment ændrer sig skal man kalde spawnplayer i useEffect\n        // Prøvede også at have spawnplayer i den her metode (handleComments), men når man gav handlecomments til Tik Tok komponenten var det som om den gemte en gammel state af world, så den kunne ikke spawne players i nye verdener. Løst med useEffect løsningen\n      } else {\n        //console.log(`Player ${username} has already joined`);\n      }\n    }\n  }\n  ;\n  function handleGifts(gift) {\n    if (gameHasLoaded) {\n      //setLatestGift(gift)\n    }\n  }\n  function handleLikes(like) {\n    if (gameHasLoaded) {\n      setLatestLike(like);\n    }\n  }\n  useEffect(() => {\n    if (latestComment) {\n      const username = latestComment.uniqueId;\n      const profilePic = latestComment.profilePictureUrl;\n      console.log(latestComment);\n      spawnPlayer(username, profilePic);\n    }\n  }, [latestComment]);\n  useEffect(() => {\n    if (latestGift) {\n      const giftType = latestGift.giftName;\n      if (giftType === \"Rose\") {\n        spawnBomb();\n      }\n      console.log(latestGift);\n    }\n  }, [latestGift]);\n  useEffect(() => {\n    if (latestLike) {\n      if (gameHasStarted) {\n        const username = latestLike.uniqueId;\n        const likeCount = latestLike.likeCount; // Amount likes sent for each like\n        move(username, likeCount);\n      }\n      //console.log(latestLike)\n    }\n  }, [latestLike]);\n  const announceWinner = () => {\n    const synth = window.speechSynthesis;\n    const voices = synth.getVoices();\n    const utterance = new SpeechSynthesisUtterance(`The winner is ${latestWinner}`);\n    utterance.pitch = 1.8;\n    utterance.rate = 0.9;\n    for (let i = 0; i < voices.length; i++) {\n      if (voices[i].name === \"Grandma (Engelsk (Storbritannien))\") {\n        utterance.voice = voices[i];\n      }\n    }\n    utterance.lang = \"en-GB\";\n    synth.speak(utterance);\n  };\n  function playSound(file, volume = 1) {\n    const audio = new Audio(file);\n    audio.volume = volume;\n    audio.play();\n  }\n  useEffect(() => {\n    createGame();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        spawnPlayer(\"Gustav\");\n      },\n      children: \"Ny spiller\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        move(\"Gustav\");\n      },\n      children: \"Boost\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: spawnBomb,\n      children: \"Bomb\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: createGame,\n      children: \"Lav spil\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Leaderboard, {\n      winners: winners,\n      allPlayers: allPlayers\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"latestWinner\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Latest winner is: \", latestWinner]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 37\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 7\n    }, this), confetti && /*#__PURE__*/_jsxDEV(ConfettiExplosion, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 95\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"timer\",\n      children: /*#__PURE__*/_jsxDEV(Timer, {\n        duration: 10,\n        gameHasStarted: gameHasStarted,\n        setGameHasStarted: setGameHaStarted\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 30\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }, this), gameHasLoaded && /*#__PURE__*/_jsxDEV(TikTok, {\n      handleComments: handleComments,\n      handleGifts: handleGifts,\n      handleLikes: handleLikes\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(Videoplayer, {\n      gameHasStarted: gameHasStarted\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 295,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"Ake6s/ZaCp3jRgRfzF4XIt0R0UE=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Matter","bombImage","explosion","ding","footstep","popup","useEffect","useState","useCallback","ConfettiExplosion","Leaderboard","Timer","TikTok","Videoplayer","jsxDEV","_jsxDEV","App","_s","showWinner","setShowWinner","latestWinner","setLatestWinner","winners","setWinners","allPlayers","setAllPlayers","gameHasLoaded","setGameHasLoaded","gameHasStarted","setGameHaStarted","confetti","setConfetti","world","setWorld","latestComment","setLatestComment","latestLike","setLatestLike","latestGift","setLatestGift","canvasWidth","canvasHeight","createGame","engine","Engine","create","gravity","y","render","Render","element","document","body","options","width","height","showAngleIndicator","showCollisions","hasBounds","wireframes","background","run","runner","Runner","wallThichness","Composite","add","Bodies","rectangle","isStatic","fillStyle","collisionFilter","category","Events","on","event","pairs","pair","bodyA","winHandler","bodyB","label","resetWorld","createPlayer","username","profilePic","player","frictionAir","density","friction","mask","sprite","texture","xScale","yScale","spawnPlayer","playSound","move","likes","allBodies","foundPlayer","find","force","Math","log10","console","log","Body","applyForce","position","x","testMove","randomIndex","floor","random","length","randomPlayer","spawnBomb","randomX","randomY","bomb","Promise","resolve","setTimeout","remove","explode","bombPosition","forEach","xDistanceToBomb","yDistanceToBomb","abs","winnerUsername","newArray","playerIndex","findIndex","winner","points","push","announceWinner","World","clear","stop","off","canvas","context","handleComments","comment","uniqueId","playerExists","handleGifts","gift","handleLikes","like","profilePictureUrl","giftType","giftName","likeCount","synth","window","speechSynthesis","voices","getVoices","utterance","SpeechSynthesisUtterance","pitch","rate","i","name","voice","lang","speak","file","volume","audio","Audio","play","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","duration","setGameHasStarted","_c","$RefreshReg$"],"sources":["/Users/gustavnielsen/Documents/Kode.nosync/tiktokgame/tiktokgame_frontend/src/App.js"],"sourcesContent":["import './App.css';\nimport Matter from 'matter-js';\nimport bombImage from './assets/2dbomb.png'\n//import testProfilePic from './assets/profilepicture.jpg'\nimport explosion from './assets/explosion.wav';\nimport ding from './assets/ding.mp3'\nimport footstep from './assets/footstep.wav'\nimport popup from './assets/popup.wav'\nimport { useEffect, useState, useCallback } from 'react';\nimport ConfettiExplosion from 'react-confetti-explosion';\nimport Leaderboard from './components/Leaderboard';\nimport Timer from './components/Timer';\nimport TikTok from './components/TikTok';\nimport Videoplayer from './components/Videoplayer';\n// spil minecraft soundtrack\n// elevenlabs til lyd. D-Id til video. Måske bruge heygen. \n// Når folk joiner brug https://responsivevoice.org/\n\nfunction App() {\n  //const video = require('./assets/Game_starting_soon.mp4')\n  const [showWinner, setShowWinner] = useState(false)\n  const [latestWinner, setLatestWinner] = useState('G')\n  const [winners, setWinners] = useState([])\n  const [allPlayers, setAllPlayers] = useState([])\n  const [gameHasLoaded, setGameHasLoaded] = useState(false)\n  const [gameHasStarted, setGameHaStarted] = useState(false)\n  const [confetti, setConfetti] = useState(false)\n  const [world, setWorld] = useState()\n  const [latestComment, setLatestComment] = useState(null)\n  const [latestLike, setLatestLike] = useState(null)\n  const [latestGift, setLatestGift] = useState(null)\n\n  const canvasWidth = 800\n  const canvasHeight = 400\n\n  function createGame() {\n    const engine = Matter.Engine.create()\n    engine.gravity.y = 0\n    const world = engine.world\n    setWorld(world)\n    const render = Matter.Render.create({\n      element: document.body,\n      engine: engine,\n      options: {\n        width: canvasWidth,\n        height: canvasHeight,\n        showAngleIndicator: true,\n        showCollisions: true,\n        hasBounds: true,\n        wireframes: false,\n        background: '#fff'\n      }\n    });\n\n    Matter.Render.run(render);\n\n    // create runner\n    const runner = Matter.Runner.create();\n    Matter.Runner.run(runner, engine);\n\n    const wallThichness = 1\n    Matter.Composite.add(world, [\n      // walls - Created with (xpos, ypos, width, height)\n      Matter.Bodies.rectangle(canvasWidth / 2, 0, canvasWidth, wallThichness, { isStatic: true }), // Top\n      Matter.Bodies.rectangle(canvasWidth / 2, canvasHeight, canvasWidth, wallThichness, { isStatic: true }), // Bottom\n      Matter.Bodies.rectangle(0, canvasHeight / 2, wallThichness, canvasHeight, { isStatic: true }), // Left\n      Matter.Bodies.rectangle(0, canvasHeight / 2, 50, canvasHeight, { isStatic: true, render: { fillStyle: \"grey\" }, collisionFilter: { category: 0x0002 } }), // Start object. Up to 32 different collision categories. 0x0001 is default\n      Matter.Bodies.rectangle(canvasWidth, canvasHeight / 2, 50, canvasHeight, { isStatic: true, render: { fillStyle: \"green\" } }) // Right - Finish line. \n    ]);\n    // checking collision with green finish line\n    Matter.Events.on(engine, 'collisionStart', function (event) {\n      const pairs = event.pairs;\n      var pair = pairs[0];\n      if (pair.bodyA.render.fillStyle === 'green') {\n        winHandler(pair.bodyB.label)\n        resetWorld(world, engine, render, runner)\n      }\n    });\n\n    //const startPlayer = createPlayer(\"Startplayer\")\n    //Matter.Composite.add(world, [startPlayer])\n    setGameHasLoaded(true)\n  }\n\n  function createPlayer(username, profilePic) {\n    const player = Matter.Bodies.rectangle(12, canvasHeight / 2, 20, 20,\n      {\n        frictionAir: 0.03,\n        density: 0.3,\n        friction: 0.8,\n        label: username,\n        collisionFilter: { mask: 0x0001, }, // Should be able to hit each other\n        render: { sprite: { texture: profilePic, xScale: 0.25, yScale: 0.25 } } // uncomment this for profile pic\n      }\n    )\n    return player\n  }\n\n  function spawnPlayer(username, profilePic) {\n    const player = createPlayer(username, profilePic)\n    playSound(popup, 0.25)\n    Matter.Composite.add(world, [player])\n    setAllPlayers([...allPlayers, username]);\n  }\n\n  function move(username, likes = 1) {\n    const allBodies = Matter.Composite.allBodies(world)\n    const foundPlayer = allBodies.find(player => player.label === username);\n    const force = 0.5 * Math.log10(likes + 9) // +10 so if 1 like is sent it it not log10(1) = 0\n    if (foundPlayer) {\n      console.log(\"Object found with name:\", username);\n      Matter.Body.applyForce(foundPlayer, foundPlayer.position, { x: force, y: 0 })\n      playSound(footstep)\n    } else {\n      //console.log(\"Object not found with name:\", username);\n    }\n  }\n\n\n  function testMove() {\n    const allBodies = Matter.Composite.allBodies(world)\n    const randomIndex = Math.floor(Math.random() * (allBodies.length - 4)) + 4;\n    const randomPlayer = allBodies[randomIndex]\n    playSound(footstep)\n    Matter.Body.applyForce(randomPlayer, randomPlayer.position, { x: 2, y: 0 })\n  }\n\n\n  async function spawnBomb() {\n    const randomX = Math.floor(Math.random() * (canvasWidth - 100 + 1)) + 100;\n    const randomY = Math.floor(Math.random() * (canvasHeight - 0 + 1)) + 0;\n    const bomb = Matter.Bodies.rectangle(randomX, randomY, 10, 10, { isStatic: true, render: { sprite: { texture: bombImage, xScale: 0.1, yScale: 0.1 } } })\n    Matter.Composite.add(world, [bomb])\n    playSound(ding)\n    await new Promise(resolve => setTimeout(resolve, 1500));\n    playSound(explosion, 0.25)\n    Matter.Composite.remove(world, [bomb])\n    explode(bomb.position)\n  }\n\n  // Creates consequense of blast radius\n  function explode(bombPosition) {\n    const allBodies = Matter.Composite.allBodies(world)\n    allBodies.forEach(player => {\n      if (player.label === 'Rectangle Body') { // should only affect players\n        return\n      }\n      const xDistanceToBomb = bombPosition.x - player.position.x\n      const yDistanceToBomb = bombPosition.y - player.position.y\n      //const bigDistance = 120\n      //const medDistance = 80\n      //const lowDistance = 20\n      // I am calculating blast radius in squares. Maybe it should be using circles. Utilizing pi.\n      // later: check if they are safe from blast. If they have bought safety. Could also add effect on y-axis\n\n      // Checks to determine to blast\n      if (Math.abs(xDistanceToBomb) < 20 && Math.abs(yDistanceToBomb) < 20) { // player dies. \n        Matter.Composite.remove(world, [player])\n      }\n      if (xDistanceToBomb < 0 && xDistanceToBomb > -120) { // The player has passed the bomb\n        if (yDistanceToBomb < 0 && yDistanceToBomb > -120) { // The player is above the bomb\n          Matter.Body.applyForce(player, player.position, { x: 1, y: 1 })\n        } else { // The player is below the bomb\n          Matter.Body.applyForce(player, player.position, { x: 1, y: -1 })\n        }\n      } else if (xDistanceToBomb > 0 && xDistanceToBomb <= 80) { // Player is to the left of the bomb. gets a blast\n        if (yDistanceToBomb < 0 && yDistanceToBomb > -120) {  // The same check as when player bassed the bomb. Could maybe be refactored so there is less code dublication\n          Matter.Body.applyForce(player, player.position, { x: -2, y: 2 })\n        } else {\n          Matter.Body.applyForce(player, player.position, { x: -2, y: -2 })\n        }\n      } else if (xDistanceToBomb > 80 && xDistanceToBomb <= 120) { // gets minor blast\n        if (yDistanceToBomb < 0 && yDistanceToBomb > -120) {\n          Matter.Body.applyForce(player, player.position, { x: -1, y: 1 })\n        } else {\n          Matter.Body.applyForce(player, player.position, { x: -1, y: -1 })\n        }\n      }\n    });\n  }\n\n  function winHandler(winnerUsername) {\n    setLatestWinner(winnerUsername)\n    setShowWinner(true)\n    setConfetti(true)\n    setGameHaStarted(false)\n    // Increment points or add the person as a winner\n    const newArray = winners\n    const playerIndex = winners.findIndex(winner => winner.label === winnerUsername);\n    if (playerIndex !== -1) {\n      newArray[playerIndex].points++\n    } else {\n      newArray.push({ label: winnerUsername, points: 1 })\n    }\n    setWinners(newArray)\n    announceWinner()\n  }\n\n  function resetWorld(world, engine, render, runner) {\n    setGameHasLoaded(false)\n    setAllPlayers([])\n    Matter.World.clear(world);\n    Matter.Engine.clear(engine);\n    Matter.Render.stop(render);\n    Matter.Runner.stop(runner);\n    Matter.Events.off(engine, 'collisionStart')\n    render.canvas.remove();\n    render.canvas = null;\n    render.context = null;\n    createGame()\n  }\n\n  function handleComments(comment) {\n    if (gameHasLoaded) {\n      const username = comment.uniqueId\n      const allBodies = Matter.Composite.allBodies(world)\n      const playerExists = allBodies.find(player => player.label === username);\n      if (!playerExists) {\n        setLatestComment(comment) // når latestComment ændrer sig skal man kalde spawnplayer i useEffect\n        // Prøvede også at have spawnplayer i den her metode (handleComments), men når man gav handlecomments til Tik Tok komponenten var det som om den gemte en gammel state af world, så den kunne ikke spawne players i nye verdener. Løst med useEffect løsningen\n      } else {\n        //console.log(`Player ${username} has already joined`);\n      }\n    }\n  };\n\n  function handleGifts(gift) {\n    if (gameHasLoaded) {\n      //setLatestGift(gift)\n    }\n  }\n  function handleLikes(like) {\n    if (gameHasLoaded) {\n      setLatestLike(like)\n    }\n  }\n\n  useEffect(() => {\n    if (latestComment) {\n      const username = latestComment.uniqueId\n      const profilePic = latestComment.profilePictureUrl\n      console.log(latestComment)\n      spawnPlayer(username, profilePic)\n    }\n  }, [latestComment])\n\n  useEffect(() => {\n    if (latestGift) {\n      const giftType = latestGift.giftName\n      if (giftType === \"Rose\") {\n        spawnBomb()\n      }\n      console.log(latestGift)\n    }\n  }, [latestGift])\n\n  useEffect(() => {\n    if (latestLike) {\n      if(gameHasStarted) {\n        const username = latestLike.uniqueId\n        const likeCount = latestLike.likeCount // Amount likes sent for each like\n        move(username, likeCount)\n      }\n      //console.log(latestLike)\n    }\n  }, [latestLike])\n\n\n  const announceWinner = () => {\n    const synth = window.speechSynthesis;\n    const voices = synth.getVoices()\n    const utterance = new SpeechSynthesisUtterance(`The winner is ${latestWinner}`);\n    utterance.pitch = 1.8;\n    utterance.rate = 0.9;\n    for (let i = 0; i < voices.length; i++) {\n      if (voices[i].name === \"Grandma (Engelsk (Storbritannien))\") {\n        utterance.voice = voices[i];\n      }\n    }\n    utterance.lang = \"en-GB\";\n    synth.speak(utterance);\n  };\n\n  function playSound(file, volume = 1) {\n    const audio = new Audio(file)\n    audio.volume = volume\n    audio.play()\n  }\n\n  useEffect(() => {\n    createGame()\n  }, [])\n\n  return (\n    <div className=\"App\">\n      <button onClick={() => { spawnPlayer(\"Gustav\") }}>Ny spiller</button>\n      <button onClick={() => { move(\"Gustav\") }}>Boost</button>\n      <button onClick={spawnBomb}>Bomb</button>\n      <button onClick={createGame}>Lav spil</button>\n      {/*<button onClick={() => { setConfetti(true) }}><>{confetti && <ConfettiExplosion />}</>Confetti</button>*/}\n      <Leaderboard winners={winners} allPlayers={allPlayers}></Leaderboard>\n      {/*<video src={video} type=\"video/mp4\" autoPlay width={300} height={300}></video>*/}\n      <div className='latestWinner'><p>Latest winner is: {latestWinner}</p></div>{confetti && <ConfettiExplosion />}{/*showWinner && <ComponentToShow />*/}\n      <div className='timer'><Timer duration={10} gameHasStarted={gameHasStarted} setGameHasStarted={setGameHaStarted}></Timer></div>\n      {gameHasLoaded && <TikTok handleComments={handleComments} handleGifts={handleGifts} handleLikes={handleLikes} />}\n      <Videoplayer gameHasStarted={gameHasStarted}></Videoplayer>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}